<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Configuration xmlns="http://bbn.com/marti/xml/config">
    <network multicastTTL="5" serverId="REPLACE_ME" version="REPLACE_ME" cloudwatchEnable="true" cloudwatchName="REPLACE_ME">
        <input auth="x509" _name="stdssl" protocol="tls" port="8089" coreVersion="2"/>
        <connector port="8443" _name="https" keystore="JKS" keystoreFile="REPLACE_ME" keystorePass="REPLACE_ME"/>
        <connector port="8444" useFederationTruststore="true" _name="fed_https"/>
        <connector port="8446" clientAuth="false" _name="cert_https" keystore="JKS" keystoreFile="REPLACE_ME" keystorePass="REPLACE_ME" enableNonAdminUI="false"/>
        <announce/>
    </network>
    <auth default="ldap" x509groups="true" x509addAnonymous="false" x509useGroupCache="true" x509useGroupCacheDefaultActive="true" x509checkRevocation="true">
        <ldap url="REPLACE_ME" userstring="REPLACE_ME" updateinterval="60" groupprefix="" groupNameExtractorRegex="CN=(.*?)(?:,|$)" style="DS" serviceAccountDN="REPLACE_ME" serviceAccountCredential="REPLACE_ME" groupObjectClass="groupOfNames" groupBaseRDN="REPLACE_ME" ldapsTruststore="JKS" ldapsTruststoreFile="REPLACE_ME" ldapsTruststorePass="REPLACE_ME" enableConnectionPool="false"/>
        <File location="UserAuthenticationFile.xml"/>
        <oauth oauthUseGroupCache="true"/>
    </auth>
    <submission ignoreStaleMessages="false" validateXml="false"/>
    <subscription reloadPersistent="false"/>
    <repository enable="true" numDbConnections="16" primaryKeyBatchSize="500" insertionBatchSize="500">
        <connection url="REPLACE_ME" username="REPLACE_ME" password="REPLACE_ME"/>
    </repository>
    <repeater enable="true" periodMillis="3000" staleDelayMillis="15000">
        <repeatableType initiate-test="/event/detail/emergency[@type='911 Alert']" cancel-test="/event/detail/emergency[@cancel='true']" _name="911"/>
        <repeatableType initiate-test="/event/detail/emergency[@type='Ring The Bell']" cancel-test="/event/detail/emergency[@cancel='true']" _name="RingTheBell"/>
        <repeatableType initiate-test="/event/detail/emergency[@type='Geo-fence Breached']" cancel-test="/event/detail/emergency[@cancel='true']" _name="GeoFenceBreach"/>
        <repeatableType initiate-test="/event/detail/emergency[@type='Troops In Contact']" cancel-test="/event/detail/emergency[@cancel='true']" _name="TroopsInContact"/>
    </repeater>
    <filter>
        <thumbnail/>
        <urladd host="http://172.18.0.2:8080"/>
        <flowtag enable="false" text=""/>
        <streamingbroker enable="true"/>
        <injectionfilter enable="true"></injectionfilter>
        <scrubber enable="false" action="overwrite"/>
        <qos>
            <deliveryRateLimiter enabled="true">
                <rateLimitRule clientThresholdCount="500" reportingRateLimitSeconds="200"/>
                <rateLimitRule clientThresholdCount="1000" reportingRateLimitSeconds="300"/>
                <rateLimitRule clientThresholdCount="2000" reportingRateLimitSeconds="400"/>
                <rateLimitRule clientThresholdCount="5000" reportingRateLimitSeconds="800"/>
                <rateLimitRule clientThresholdCount="10000" reportingRateLimitSeconds="1200"/>
            </deliveryRateLimiter>
            <readRateLimiter enabled="false">
                <rateLimitRule clientThresholdCount="500" reportingRateLimitSeconds="200"/>
                <rateLimitRule clientThresholdCount="1000" reportingRateLimitSeconds="300"/>
                <rateLimitRule clientThresholdCount="2000" reportingRateLimitSeconds="400"/>
                <rateLimitRule clientThresholdCount="5000" reportingRateLimitSeconds="800"/>
                <rateLimitRule clientThresholdCount="10000" reportingRateLimitSeconds="1200"/>
            </readRateLimiter>
            <dosRateLimiter enabled="false" intervalSeconds="60">
                <dosLimitRule clientThresholdCount="1" messageLimitPerInterval="60"/>
            </dosRateLimiter>
        </qos>
    </filter>
    <buffer>
        <queue enableStoreForwardChat="true">
            <priority/>
        </queue>
        <latestSA enable="true"/>
    </buffer>
    <dissemination smartRetry="false"/>
    <certificateSigning CA="REPLACE_ME">
        <certificateConfig>
            <nameEntries>
                <nameEntry name="O" value="REPLACE_ME"/>
                <nameEntry name="OU" value="REPLACE_ME"/>
            </nameEntries>
        </certificateConfig>
        <TAKServerCAConfig keystore="JKS" keystoreFile="REPLACE_ME" keystorePass="REPLACE_ME" validityDays="365" signatureAlg="SHA256WithRSA" CAkey="REPLACE_ME" CAcertificate="REPLACE_ME"/>
    </certificateSigning>
    <logging httpAccessEnabled="true"/>
    <security>
        <tls keystore="JKS" keystoreFile="REPLACE_ME" keystorePass="REPLACE_ME" truststore="JKS" truststoreFile="REPLACE_ME" truststorePass="REPLACE_ME" context="TLSv1.2" keymanager="SunX509"/>
    </security>
    <plugins/>
    <cluster/>
    <locate enabled="true" requireLogin="false" group="DEMO - Demonstrations" mission="cotak-locator"/>
    <vbm/>
</Configuration>
